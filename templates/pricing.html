{% extends "base.html" %}
{% block title %}Pricing{% endblock %}

{% block extra_css %}


<style>
  .pricing-wrap{max-width:980px;margin:0 auto;}
  .grid{display:grid;grid-template-columns:1fr;gap:16px;}
  @media(min-width:820px){.grid{grid-template-columns:1fr 1fr 1fr;}}
  .card{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:16px;padding:18px;box-shadow:0 6px 18px rgba(0,0,0,.06);} 
  .badge{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;font-weight:900;font-size:12px;border:1px solid rgba(0,0,0,.12);background:#f8fafc;}
  .price{font-size:30px;font-weight:1000;margin:10px 0;}
  .muted{color:#64748b;}
  .features{margin:12px 0 0;padding-left:18px;color:#0f172a;}
  .features li{margin:6px 0;}
  .cta{margin-top:14px;}
  .cta form{display:inline;}
  .cta button{width:100%;padding:12px 14px;border-radius:12px;font-weight:1000;border:none;cursor:pointer;}
  .btn-dark{background:#0f172a;color:#fff;}
  .btn-green{background:#22c55e;color:#05351d;}
  .btn-gray{background:#e2e8f0;color:#0f172a;}
  .current{border-color:rgba(34,197,94,.45);box-shadow:0 0 0 3px rgba(34,197,94,.18),0 10px 30px rgba(0,0,0,.08);} 
</style>
{% endblock %}

{% block content %}
<div class="pricing-wrap">
  <div style="display:flex;justify-content:space-between;align-items:end;gap:12px;flex-wrap:wrap;">
    <div>
      <h2 style="margin:0;">üí≥ Pricing</h2>
      <div class="muted" style="margin-top:6px;">‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏î‡πÇ‡∏°: ‡∏õ‡∏∏‡πà‡∏° Subscribe ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏à‡∏£‡∏¥‡∏á (‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö)</div>
    </div>
    <a class="btn" href="{{ url_for('dashboard') }}">‚Üê Back</a>
  </div>

  <hr style="margin:16px 0;">

  <div class="grid">
    <!-- FREE -->
    <div class="card {% if plan == 'free' %}current{% endif %}">
      <div class="badge">üÜì FREE</div>
      <div class="price">0‡∏ø <span style="font-size:14px;font-weight:800;color:#64748b;">/ month</span></div>
      <div class="muted">‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡πÅ‡∏ï‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤</div>
      <ul class="features">
        <li>Slides / Game / Practice ‡∏Ñ‡∏£‡∏ö</li>
        <li>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÑ‡∏î‡πâ <b>{{ topic_limit }}</b> ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠</li>
        <li>‡πÅ‡∏ä‡∏£‡πå‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡πÉ‡∏´‡πâ‡πÄ‡∏î‡πá‡∏Å‡∏ó‡∏≥‡πÑ‡∏î‡πâ</li>
      </ul>
      <div class="cta">
        {% if plan == 'free' %}
          <button class="btn-gray" disabled>Current Plan</button>
        {% else %}
          <form method="POST" action="{{ url_for('downgrade_free') }}">
            <button class="btn-gray" type="submit">Switch to Free</button>
          </form>
        {% endif %}
      </div>
    </div>

    <!-- PRO -->
    <div class="card {% if plan == 'pro' %}current{% endif %}">
      <div class="badge">‚≠ê PRO</div>
      <div class="price">69‡∏ø <span style="font-size:14px;font-weight:800;color:#64748b;">/ month</span></div>
      <div class="muted">‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤</div>
      <ul class="features">
        <li>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î</li>
        <li>AI ‡∏™‡∏£‡πâ‡∏≤‡∏á Slides+Game+Practice</li>
        <li>Export PDF ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î</li>
      </ul>
      <div class="cta">
        {% if plan == 'pro' %}
          <button class="btn-green" disabled>Current Plan</button>
        {% else %}
          <form method="POST" action="{{ url_for('subscribe_pro') }}">
            <button class="btn-green" type="submit">Subscribe PRO (Demo)</button>
          </form>
        {% endif %}
      </div>
    </div>

    <!-- ADMIN -->
    <div class="card {% if session.role == 'admin' %}current{% endif %}">
      <div class="badge">üõ† ADMIN</div>
      <div class="price">‚Äî</div>
      <div class="muted">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</div>
      <ul class="features">
        <li>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Topics ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</li>
        <li>Seed demo data</li>
        <li>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (‡∏ñ‡πâ‡∏≤‡∏ó‡∏≥‡πÄ‡∏û‡∏¥‡πà‡∏°)</li>
      </ul>
      <div class="cta">
        {% if session.role == 'admin' %}
          <a class="btn" style="display:block;text-align:center;background:#0f172a;" href="{{ url_for('admin_dashboard') }}">Go to Admin</a>
        {% else %}
          <button class="btn-dark" disabled>Admin only</button>
        {% endif %}
      </div>
    </div>
  </div>

  <div style="margin-top:18px;padding:12px 14px;border:1px solid rgba(0,0,0,.10);border-radius:14px;background:#f8fafc;" class="muted">
    ‚úÖ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏ô‡∏µ‡πâ‡πÇ‡∏≠‡πÄ‡∏Ñ‡∏°‡∏≤‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ç‡∏≤‡∏¢ ‚Äî Free ‡πÉ‡∏´‡πâ‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏à‡∏£‡∏¥‡∏á, Pro ‡∏£‡∏≤‡∏Ñ‡∏≤ 69‡∏ø ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢
  </div>
</div>
{% endblock %}
