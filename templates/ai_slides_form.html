{% extends "base.html" %}

{% block title %}Generate Slides with AI{% endblock %}

{% block extra_css %}
<style>
  .wrap {
    max-width: 860px;
    margin: 2rem auto;
    background: white;
    padding: 1.75rem;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  }
  .row2 {
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
  }
  @media (max-width: 800px){
    .row2 { grid-template-columns: 1fr; }
  }
  .hint{
    font-size: 12px;
    color: #64748b;
    margin-top: 6px;
  }
</style>
{% endblock %}

{% block content %}
<div class="wrap">
  <h2 style="margin:0 0 8px; color:#667eea;">‚ú® Generate Slides with AI</h2>
  <div class="hint">‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏†‡∏≤‡∏©‡∏≤/‡∏£‡∏∞‡∏î‡∏±‡∏ö/‡∏™‡πÑ‡∏ï‡∏•‡πå ‚Üí ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á Slides + Game + Practice</div>

  <form id="genForm" method="POST" action="{{ url_for('ai_slides') }}">
    <div class="form-group">
      <label for="title">Topic Title *</label>
      <input id="title" name="title" type="text" required
             placeholder="‡πÄ‡∏ä‡πà‡∏ô Past Simple / Food Vocabulary / ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ñ‡∏ß‡∏≤‡∏° / ‡∏ß‡∏¥‡∏ó‡∏¢‡πå‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏£‡∏á ‡∏Ø‡∏•‡∏Ø">
      <div class="hint">‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Thai Only: ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢</div>
    </div>

    <div class="row2">
      <div class="form-group">
        <label for="language">Language</label>
        <select id="language" name="language">
          <option value="EN" selected>English (EN)</option>
          <option value="EN+TH">Thai + English (EN+TH)</option>
          <option value="TH">Thai Only (TH)</option>
        </select>
        <div class="hint">EN+TH = ‡∏™‡πÑ‡∏•‡∏î‡πå‡∏´‡∏•‡∏±‡∏Å‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© + ‡∏°‡∏µ‡∏Ñ‡∏≥‡πÅ‡∏õ‡∏•/‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏à‡∏∏‡∏î ‚Ä¢ TH = ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏•‡πâ‡∏ß‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
      </div>

      <div class="form-group">
        <label for="level">Level</label>
        <select id="level" name="level">
          <option value="Primary">Primary</option>
          <option value="Secondary" selected>Secondary</option>
          <option value="University">University</option>
          <option value="General">General</option>
        </select>
      </div>
    </div>

    <div class="row2">
      <div class="form-group">
        <label for="style">Style</label>
        <select id="style" name="style">
          <option value="Minimal" selected>Minimal</option>
          <option value="Modern">Modern</option>
          <option value="Colorful">Colorful</option>
          <option value="Playful">Playful</option>
        </select>
      </div>

      <div class="form-group">
        <label>&nbsp;</label>
        <button id="btnSubmit" type="submit" style="width:100%; padding: 0.9rem; font-weight:800;">
          üöÄ Generate Now
        </button>
        <div class="hint">‡∏Å‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á Pop up ‡∏Å‡∏±‡∏ô‡∏Å‡∏î‡∏ã‡πâ‡∏≥</div>
      </div>
    </div>
  </form>
</div>
{% endblock %}

{% block extra_js %}
<script>
  const form = document.getElementById('genForm');
  const btn = document.getElementById('btnSubmit');
  const lang = document.getElementById('language');

  form.addEventListener('submit', () => {
    // ‡∏Å‡∏±‡∏ô‡∏Å‡∏î‡∏ã‡πâ‡∏≥
    btn.disabled = true;
    btn.textContent = '‚è≥ Generating...';

    // popup
    const v = (lang.value || 'EN');
    if(v === 'TH'){
      window.tpShowLoading('‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á Generate (Thai Only)', '‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡πÑ‡∏•‡∏î‡πå/‡πÄ‡∏Å‡∏°/‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏•‡πâ‡∏ß‡∏ô‚Ä¶');
    }else if(v === 'EN+TH'){
      window.tpShowLoading('‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á Generate (EN+TH)', '‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡πÑ‡∏•‡∏î‡πå‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© + ‡∏Ñ‡∏≥‡πÅ‡∏õ‡∏•/‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‚Ä¶');
    }else{
      window.tpShowLoading('‚è≥ Generating Lesson', 'Generating Slides + Game + Practice in English‚Ä¶');
    }
  });
</script>
{% endblock %}
